<plugin id="uiMedDataQt" class="::uiMedDataQt::Plugin" version="@DASH_VERSION@">
    <library name="uiMedDataQt" />

    <requirement id="dataReg" />
    <requirement id="servicesReg" />
    <requirement id="gui" />
    <requirement id="uiImageQt" />

    <xi:include href="SeriesExportCfg.xml" xmlns:xi="http://www.w3.org/2003/XInclude" />

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::gui::editor::IEditor</type>
        <service>::uiMedData::editor::SSelector</service>
        <object>::fwMedData::SeriesDB</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::gui::editor::IEditor</type>
        <service>::uiMedData::editor::SSeries</service>
        <object>::fwData::Vector</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::fwServices::IController</type>
        <service>::uiMedData::SSeriesViewer</service>
        <object>::fwData::Vector</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::fwGui::IActionSrv</type>
        <service>::uiMedData::action::SExportSeries</service>
        <object>::fwMedData::SeriesDB</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::fwGui::IActionSrv</type>
        <service>::uiMedData::action::SInitNewSeries</service>
        <object>::fwMedData::SeriesDB</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::gui::editor::IEditor</type>
        <service>::uiMedData::editor::SModelSeriesList</service>
        <object>::fwMedData::ModelSeries</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::gui::editor::IEditor</type>
        <service>::uiMedData::editor::SOrganTransformation</service>
        <object>::fwMedData::ModelSeries</object>
    </extension>

    <extension implements="::fwServices::registry::ServiceFactory">
        <type>::gui::editor::IEditor</type>
        <service>::uiMedData::editor::SActivityWizard</service>
        <object>::fwMedData::SeriesDB</object>
    </extension>

    <extension implements="::fwServices::registry::AppConfig2">
        <id>ActivityCreatorConfig</id>
        <parameters>
            <param name="GENERIC_UID" />
            <param name="WID_PARENT" />
            <param name="SERIESDB" />
            <param name="objectID" />
        </parameters>
        <desc>Configuration to update the given activity series.</desc>
        <config>
            <object uid="${SERIESDB}" type="::fwMedData::SeriesDB" src="ref" />
            <object uid="${objectID}" type="::fwMedData::ActivitySeries" src="ref" />

            <service uid="activityCreator" type="::uiMedData::editor::SActivityWizard">
                <inout key="seriesDB" uid="${SERIESDB}" />
                <inout key="activitySeries" uid="${objectID}" />
                <ioSelectorConfig>SDBReaderIOSelectorConfig</ioSelectorConfig>
                <icons>
                    <icon type="::fwMedData::ImageSeries" icon="@BUNDLE_PREFIX@/media_0-1/icons/ImageSeries.svg" />
                    <icon type="::fwMedData::ModelSeries" icon="@BUNDLE_PREFIX@/media_0-1/icons/ModelSeries.svg" />
                </icons>
                <registry>
                    <parent wid="${WID_PARENT}" />
                </registry>
            </service>

            <start uid="activityCreator" />
            <update uid="activityCreator" />
        </config>
    </extension>
</plugin>
